import BaseAnimation from "./base";

interface State {
  currentFrameIndex: number;
  right: boolean;
}

const Flip: BaseAnimation = {
  name: "Flip",
  creator: "LunarFang_416",
  baseState: {
    currentFrameIndex: 0,
    right: true,
  },
  nextState: (
    timestamp: number,
    state: State
  ): { nextFrame: string; state: State } => {
    let frames = [
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\.\u252C\u2500\u252C",

      "(\\\u00B0\u25A1\u00B0)\\..\u252C\u2500\u252C",
      "(\\\u00B0\u25A1\u00B0)\\..\u252C\u2500\u252C",

      "(-\u00B0\u25A1\u00B0)-..\u252C\u2500\u252C",
      "(-\u00B0\u25A1\u00B0)-..\u252C\u2500\u252C",

      "(\u256F\u00B0\u25A1\u00B0)\u256F....]",
      "(\u256F\u00B0\u25A1\u00B0)\u256F....]",
      "(\u256F\u00B0\u25A1\u00B0)\u256F....]",
      "(\u256F\u00B0\u25A1\u00B0)\u256F....]",

      "(\u256F\u00B0\u25A1\u00B0)\u256F..\uFE35..\u253B\u2501\u253B",
      "(\u256F\u00B0\u25A1\u00B0)\u256F..\uFE35..\u253B\u2501\u253B",
      "(\u256F\u00B0\u25A1\u00B0)\u256F..\uFE35..\u253B\u2501\u253B",
      "(\u256F\u00B0\u25A1\u00B0)\u256F..\uFE35..\u253B\u2501\u253B",

      "(\u256F\u00B0\u25A1\u00B0)\u256F.......[",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.......[",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.......[",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.......[",

      "(\u256F\u00B0\u25A1\u00B0)\u256F.......\uFE35..\u252C\u2500\u252C",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.......\uFE35..\u252C\u2500\u252C",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.......\uFE35..\u252C\u2500\u252C",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.......\uFE35..\u252C\u2500\u252C",

      "(\u256F\u00B0\u25A1\u00B0)\u256F.................]",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.................]",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.................]",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.................]",

      "(\u256F\u00B0\u25A1\u00B0)\u256F...............\uFE35..\u253B\u2501\u253B",
      "(\u256F\u00B0\u25A1\u00B0)\u256F...............\uFE35..\u253B\u2501\u253B",
      "(\u256F\u00B0\u25A1\u00B0)\u256F...............\uFE35..\u253B\u2501\u253B",
      "(\u256F\u00B0\u25A1\u00B0)\u256F...............\uFE35..\u253B\u2501\u253B",

      "(\u256F\u00B0\u25A1\u00B0)\u256F.........................[",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.........................[",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.........................[",
      "(\u256F\u00B0\u25A1\u00B0)\u256F.........................[",

      "(\\\u00B0-\u00B0)\\............................\uFE35..\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\............................\uFE35..\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\............................\uFE35..\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\............................\uFE35..\u252C\u2500\u252C",

      "(\\\u00B0-\u00B0)\\.....................................]",
      "(\\\u00B0-\u00B0)\\.....................................]",
      "(\\\u00B0-\u00B0)\\.....................................]",
      "(\\\u00B0-\u00B0)\\.....................................]",

      "(\\\u00B0-\u00B0)\\.....................................\uFE35.\u253B\u2501\u253B",
      "(\\\u00B0-\u00B0)\\.....................................\uFE35.\u253B\u2501\u253B",
      "(\\\u00B0-\u00B0)\\.....................................\uFE35.\u253B\u2501\u253B",
      "(\\\u00B0-\u00B0)\\.....................................\uFE35.\u253B\u2501\u253B",

      "(\\\u00B0-\u00B0).....................................\\[",
      "(\\\u00B0-\u00B0).....................................\\[",
      "(\\\u00B0-\u00B0).....................................\\[",
      "(\\\u00B0-\u00B0).....................................\\[",

      "(\\\u00B0-\u00B0)\\..............................................\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\..............................................\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\..............................................\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\..............................................\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\..............................................\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\..............................................\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\..............................................\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\..............................................\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\..............................................\u252C\u2500\u252C",
      "(\\\u00B0-\u00B0)\\..............................................\u252C\u2500\u252C",
    ];

    let nextFrame = "." + frames[state.currentFrameIndex];

    if (state.currentFrameIndex >= frames.length - 1) state.right = false;
    else if (state.currentFrameIndex <= 0) state.right = true;

    state.currentFrameIndex += state.right ? 1 : -1;
    return { nextFrame, state}
  },
};

export default Flip;
